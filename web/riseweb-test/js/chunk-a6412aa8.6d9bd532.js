(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a6412aa8"],{"00ea":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"statistic"},[i("options",{ref:"goodsOpt",attrs:{data:t.dataOption},on:{change:t.optchange}}),i("div",{staticClass:"title"},[t._v("问卷名称："+t._s(t.name))]),i("div",{staticClass:"content"},t._l(t.data,function(e,a){return i("div",{key:a,staticClass:"item"},[i("div",{staticClass:"title"},[t._v(t._s(e.title))]),0==e.type?i("div",{staticClass:"myChart",style:{width:"400px",height:"400px"},attrs:{"data-index":a}}):t._e(),1==e.type?i("div",{staticClass:"list"},t._l(e.answerList,function(e,a){return i("div",{key:a,staticClass:"list-item"},[t._v(t._s(e.userName)+": "+t._s(e.content))])}),0):t._e()])}),0)],1)},n=[],s=i("5176"),o=i.n(s),c=(i("ac6a"),i("7f7f"),i("386d"),i("cadf"),i("551c"),i("097d"),i("3079")),r=i("b383"),d=i.n(r),l=i("3ebc"),u={leftMenu:[{id:"1",name:"校区：",placeholder:"请选择校区",module:"schoolId",type:"select"},{id:"2",name:"班级：",placeholder:"请选择班级",module:"classId",type:"select"},{id:"3",name:"带班老师：",placeholder:"请选择带班老师",module:"teacherAccount",type:"select"}],rightMenu:[{id:"r1",name:"查询"},{id:"r3",name:"取消"}]},h={name:"statistic",data:function(){return{dataOption:u,loading:!1,id:"",type:"",name:"",data:""}},components:{Options:c["a"]},mounted:function(){this.init(),this.search(),this.dropInit()},methods:{dropInit:function(){var t=this;Object(l["h"])(function(e){var i=t.dataOption.leftMenu;i=i.map(function(t){return"schoolId"===t.module&&(t.options=e),t}),t.dataOption.leftMenu=i})},init:function(){var t=this.$route.query,e=t.type,i=t.id,a=t.name;this.type=e,this.id=i,this.name=a},optchange:function(t){return console.log(t.id+"--id被单击了"),"r1"===t.id?this.search():"r3"===t.id?this.btnClick():void 0},echartsInit:function(){var t=this,e=document.querySelectorAll(".myChart");this.data.forEach(function(i,a){if(0==i.type){i.answerList.length;var n=[i.item1,i.item2,i.item3,i.item4,i.item5],s=[0,0,0,0,0];i.answerList.forEach(function(t){t.item1&&s[0]++,t.item2&&s[1]++,t.item3&&s[2]++,t.item4&&s[3]++,t.item5&&s[4]++});var o=t.echarts.init(e[a]),c=[];n.forEach(function(t,e){if(t){var i={value:s[e],name:t};c.push(i)}}),o.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}人 ({d}%)",position:[10,10]},legend:{x:"left",data:n},series:[{name:i.title,type:"pie",radius:["50%","70%"],center:["50%","50%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"16",fontWeight:"200"}}},data:c}]})}i.type})},search:function(){var t=this;this.loading=!0;var e=this.$refs.goodsOpt.getData(),i=o()({},e),a=d.a.stringify(i||{});this.api.get("/survey/".concat(this.id,"/answer?").concat(a)).then(function(e){t.loading=!1,t.data=e.data.questionList,setTimeout(function(){t.echartsInit(e)},20)}).catch(function(e){console.log(e),t.loading=!1,t.$message(e.message)})},btnClick:function(){this.$router.go(-1)},dataInit:function(){}}},f=h,p=(i("aaf6"),i("2877")),m=Object(p["a"])(f,a,n,!1,null,"729e73b0",null);m.options.__file="statistic.vue";e["default"]=m.exports},"975f":function(t,e,i){},aaf6:function(t,e,i){"use strict";var a=i("975f"),n=i.n(a);n.a}}]);
//# sourceMappingURL=chunk-a6412aa8.6d9bd532.js.map