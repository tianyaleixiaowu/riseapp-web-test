(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4763cf97"],{"154f":function(t,e,a){"use strict";var i=a("3faa"),n=a.n(i);n.a},2960:function(t,e,a){"use strict";var i=a("c461"),n=a.n(i);n.a},"3faa":function(t,e,a){},9404:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-main",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("el-table",{attrs:{data:t.tableList}},[t._l(t.data.table,function(t,e){return a("el-table-column",{key:e,attrs:{prop:t.prop,label:t.label,width:t.width,align:"center"}})}),t.data.edit&&t.data.edit.length>0?a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(t.data.edit,function(i,n){return a("el-button",{key:n,attrs:{type:"text",size:"small"},on:{click:function(a){t.handle(e.row,i)}}},[t._v(t._s(i.name))])})}}])}):t._e()],2)],1)],1)},n=[],o={name:"table",props:["data","list","loading"],data:function(){return{tableList:[]}},mounted:function(){},methods:{handle:function(t,e){var a={data:t,id:e.id};this.$emit("change",a)}},watch:{list:function(t){this.tableList=t}}},l=o,s=(a("2960"),a("2877")),r=Object(s["a"])(l,i,n,!1,null,"32822608",null);r.options.__file="tables.vue";e["a"]=r.exports},"9cf8":function(t,e,a){"use strict";a("386d");var i={size:20,totalCount:1,totalPage:1},n={data:function(){return{pageParams:i,currentPage:1}},methods:{setPage:function(t){this.pageParams.totalCount=t.totalCount,this.pageParams.totalPage=t.totalPage},handleSizeChange:function(t){console.log("每页 ".concat(t," 条"))},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.currentPage=t}},watch:{currentPage:function(){this.search()}}};e["a"]=n},c461:function(t,e,a){},f27a:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goods"},[a("options",{ref:"goodsOpt",attrs:{data:t.dataOption},on:{change:t.optchange}}),a("tables",{attrs:{data:t.dataTable,list:t.tableList},on:{change:t.tabchange}}),a("div",{staticClass:"demonstration-box"},[a("el-pagination",{attrs:{"current-page":t.currentPage,total:t.pageParams.totalCount,"page-size":t.pageParams.size,layout:"total, prev, pager, next"},on:{"size-change":t.handleSizeChange,"update:currentPage":function(e){t.currentPage=e}}})],1),a("el-dialog",{attrs:{title:"编辑",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[t._v(t._s(t.dialogContent))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.sure}},[t._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"提示",visible:t.editDialog,width:"30%"},on:{"update:visible":function(e){t.editDialog=e}}},[a("div",{staticClass:"item edit-dialog"},[a("span",[t._v("订单状态：")]),a("el-select",{attrs:{placeholder:"全部"},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},t._l(t.orderDialogList,function(t){return a("el-option",{key:t.id,attrs:{label:t.dValue,value:t.id}})}),1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editDialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.editSure}},[t._v("确 定")])],1)])],1)},n=[],o=a("5176"),l=a.n(o),s=(a("386d"),a("3079")),r=a("9404"),c=a("3ebc"),d=a("fc37"),u=a("b383"),p=a.n(u),g=a("9cf8"),f={leftMenu:[{id:"2",name:"商品名称：",placeholder:"请输入商品名称",module:"goodsId",type:"select"},{id:"4",name:"校区：",placeholder:"请选择校区名称",module:"schoolId",type:"select"},{id:"5",name:"班级：",placeholder:"请选择班级名称",module:"classId",type:"select"},{id:"7",name:"学员：",placeholder:"请选择学员",module:"userId",type:"select"},{id:"9",name:"订单状态：",placeholder:"请选择订单状态",module:"state",type:"select"}],rightMenu:[{id:"r1",name:"查询"}]},h={table:[{label:"商品名称",prop:"goodsName"},{label:"校区",prop:"schoolName"},{label:"班级",prop:"className"},{label:"带班老师",prop:"teacherName"},{label:"学员",prop:"userName"},{label:"订单状态",prop:"stateName"},{label:"数量",prop:"goodsCount"},{label:"时间",prop:"time"}],edit:[{name:"编辑",id:"t1"},{name:"删除",id:"t2"}]},m=["确认删除该条信息?"],b={name:"orders",mixins:[g["a"]],data:function(){return{dataOption:f,dataTable:h,dialogVisible:!1,dialogContent:m[0],editDialog:!1,tableList:[],orderList:[],orderDialogList:[],state:"",loading:!1,currentPage:1,id:""}},components:{Options:s["a"],Tables:r["a"]},mounted:function(){this.search(),this.dropInit()},activated:function(){this.search()},methods:{dropInit:function(){var t=this;Object(c["d"])(function(e){var a=t.dataOption.leftMenu;a=a.map(function(t){return"goodsId"===t.module&&(t.options=e),t}),t.dataOption.leftMenu=a}),Object(c["h"])(function(e){var a=t.dataOption.leftMenu;a=a.map(function(t){return"schoolId"===t.module&&(t.options=e),t}),t.dataOption.leftMenu=a}),Object(c["i"])(function(e){var a=t.dataOption.leftMenu;a=a.map(function(t){return"userId"===t.module&&(t.options=e),t}),t.dataOption.leftMenu=a}),Object(c["f"])(function(e){t.orderList=e;var a=t.dataOption.leftMenu;a=a.map(function(t){return"state"===t.module&&(t.options=e),t}),t.dataOption.leftMenu=a}),Object(c["f"])(function(e){t.orderDialogList=e},"filter")},optchange:function(t){console.log(t.id+"--id被单击了"),"r1"===t.id&&this.search()},tabchange:function(t){return console.log(t.id+"--id被单击了"),this.id=t.data.id,"t1"===t.id?this.editDialog=!0:"t2"===t.id?this.dialogVisible=!0:void 0},editSure:function(){var t=this,e={id:this.id,state:this.state};this.loading=!0,this.api.put("/order",e,"form").then(function(e){t.search(),t.loading=!1,t.editDialog=!1}).catch(function(e){t.loading=!1,t.editDialog=!1,console.log(e),t.$message(e.message)})},sure:function(){var t=this;this.api.delete("/order/".concat(this.id)).then(function(e){t.loading=!1,t.search(),t.$message(e.data)}).catch(function(e){console.log(e),t.$message(e.data.message)}),this.dialogVisible=!1},search:function(){var t=this,e=this.$refs.goodsOpt.getData(),a={size:20,page:this.currentPage-1},i=l()({},e,a),n=p.a.stringify(i||{});this.loading=!0,this.api.get("/order?".concat(n)).then(function(e){t.loading=!1,t.dataInit(e.data),t.setPage(e.data),t.tableList=e.data.list}).catch(function(e){console.log(e),t.$message(e.data.message)})},dataInit:function(t){var e=this,a=t.list.map(function(t){t.createTime&&(t.time=Object(d["c"])(t.createTime));var a=e.orderList.filter(function(e){return e.id===t.state});a.length<1||(t.stateName=a[0].dValue)});this.tableList=a}}},v=b,_=(a("154f"),a("2877")),O=Object(_["a"])(v,i,n,!1,null,"ffc8e8c8",null);O.options.__file="orders.vue";e["default"]=O.exports}}]);
//# sourceMappingURL=chunk-4763cf97.6c1da9f2.js.map